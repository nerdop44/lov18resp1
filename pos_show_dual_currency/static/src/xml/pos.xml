<?xml version="1.0" encoding="UTF-8" ?>
<templates id="template" xml:space="preserve">
    <!-- Product Card Dual Currency Price -->
    <t t-name="ProductCard" t-inherit="point_of_sale.ProductCard" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('product-name')]" position="after">
            <t t-if="pos.config.show_dual_currency">
                <t t-set="price_other_currency" t-value="pos.getProductPriceFormatted(props.product, true)"/>
                <span class="currency" style="position: absolute;
                                                top: 2px;
                                                right: 2px;
                                                color: red;
                                                background: #5effb0;
                                                padding: 2px 5px;
                                                border-radius: 2px;
                                                font-weight: bold;
                                                font-size: x-small;">
                    <t t-esc="price_other_currency"/>
                </span>
            </t>
        </xpath>
    </t>
    
    <!-- Orderline Dual Currency Subtotal -->
    <t t-name="Orderline" t-inherit="point_of_sale.Orderline" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('product-price')]" position="inside">
            <t t-if="pos.config.show_dual_currency">
                <span style="color: red; font-size:small" class="ms-1">/ 
                    <t t-esc="pos.format_currency_ref(line.getDisplayPrice())"/>
                </span>
            </t>
        </xpath>
    </t>

    <!-- OrderWidget Dual Currency Total -->
    <t t-name="OrderWidget" t-inherit="point_of_sale.OrderWidget" t-inherit-mode="extension">
        <xpath expr="//span[hasclass('total')]" position="after">
            <t t-if="pos.config.show_dual_currency">
                <div class="d-flex justify-content-between w-100 fs-2" style="color: red;">
                    Total (Ref)
                    <span t-esc="pos.format_currency_ref(props.taxTotals.order_total)"
                          class="total-ref"/>
                </div>
            </t>
        </xpath>
    </t>

</templates>
